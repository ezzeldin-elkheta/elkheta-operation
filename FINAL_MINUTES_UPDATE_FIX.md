# Final Minutes Update Fix

## ุงููุดููุฉ
ุจุนุฏ ุงูุฏูุจููู ุนูู ููุฑููุ ูุงู ุชุญุฏูุซ ุงููุงููู ููุชุณ ูุญุฏุซ ูุฌููุน ุงูููุฏูููุงุช ุจูุง ูู ุฐูู ููุฏูููุงุช ุงูุฃุณุฆูุฉ (QV)ุ ููุง ูุณุจุจ ูุดุงูู ูู ุงูุจูุงูุงุช.

## ุงูุญู
ุชู ุชุญุฏูุซ ุงูููุฏ ููุชุญูู ูู ููุน ุงูููุฏูู ูุจู ุชุญุฏูุซ ุงููุงููู ููุชุณุ ุจุญูุซ ูุชู ุชุญุฏูุซ ุงููุงููู ููุชุณ ููููุฏูููุงุช ุงููุงููุฉ ููุท ูููุณ ูููุฏูููุงุช ุงูุฃุณุฆูุฉ.

## ุงููููุงุช ุงููุญุฏุซุฉ

### 1. `pages/api/sheets/update-final-minutes.js`
- ุฅุถุงูุฉ ุฏุงูุฉ `isQuestionVideo` ูุญุณูุฉ ููุชุนุฑู ุนูู ููุฏูููุงุช ุงูุฃุณุฆูุฉ
- ุงูุชุญูู ูู ุงููุตูุต ุงูุนุฑุจูุฉ (ุณุคุงูุ ุฃุณุฆูุฉุ ุงุฎุชุจุงุฑุ ุงูุชุญุงู)
- ุงูุชุญูู ูู ุงููููุงุช ุงูุฅูุฌููุฒูุฉ (Quiz, Test, Exam, HW, Homework)
- ุชุฎุทู ุชุญุฏูุซ ุงููุงููู ููุชุณ ูููุฏูููุงุช ุงูุฃุณุฆูุฉ

### 2. `pages/api/sheets/update-bunny-embeds.js`
- ุฅุถุงูุฉ ููุณ ุฏุงูุฉ `isQuestionVideo` ุงููุญุณูุฉ
- ุงูุชุญูู ูู ููุน ุงูููุฏูู ูุจู ุชุญุฏูุซ ุงููุงููู ููุชุณ
- ุฅุถุงูุฉ ูุนูููุงุช `isQuestion` ูู ุงููุชุงุฆุฌ

### 3. `server.js`
- ุชุญุฏูุซ ุฏุงูุฉ `isQuestionVideo` ูู API ุชุญุฏูุซ ุงููุงููู ููุชุณ
- ุชุญุฏูุซ ููุทู ุงูุชุญูู ูู API ุชุญุฏูุซ ุงูุดูุช
- ุฅุถุงูุฉ ุฑุณุงุฆู ุชูุถูุญูุฉ ูู ุงูู logs

### 4. `src/hooks/useSheetUpdater.ts`
- ุชุญุฏูุซ ุงูุชุนุงูู ูุน ุงููุชุงุฆุฌ ุงูุฌุฏูุฏุฉ
- ุฅุถุงูุฉ ุฑุณุงุฆู ุชูุถูุญูุฉ ููููุฏูููุงุช ุงูุชู ุชู ุชุฎุทููุง
- ุชุญุณูู ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช

## ููุทู ุงูุชุนุฑู ุนูู ููุฏูููุงุช ุงูุฃุณุฆูุฉ

### 1. ููุท Q+ุฑูู
```
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุญุตุฉ-2-Q1.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุญุตุฉ-3-Q2.mp4
```

### 2. ุงููุตูุต ุงูุนุฑุจูุฉ ูุน ุฃุฑูุงู
```
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุณุคุงู-1.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุฃุณุฆูุฉ-2.mp4
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงุฎุชุจุงุฑ-1.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุชุญุงู-2.mp4
```

### 3. ุงููููุงุช ุงูุฅูุฌููุฒูุฉ ูุน ุฃุฑูุงู
```
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-Quiz-1.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-Test-2.mp4
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-HW-1.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-Homework-2.mp4
```

## ุฃูุซูุฉ ุนูู ุงูููุฏูููุงุช ุงููุงููุฉ (ูุชู ุชุญุฏูุซ ุงููุงููู ููุชุณ)
```
M2-T2-U2-L2-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุญุตุฉ-2.mp4
M2-T2-U2-L3-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุญุตุฉ-3.mp4
M2-T2-U2-L4-SCI-AR-P0078-ูุญูุฏ-ุนุจุฏุงูุฑุญูู-ุงูุญุตุฉ-4.mp4
```

## ุฑุณุงุฆู ุงูู Logs

### ุนูุฏ ุชุฎุทู ููุฏูู ุณุคุงู:
```
[isQuestionVideo] Video "filename.mp4" has Q-number pattern - treating as question video
[API] โ๏ธ SKIPPING final minutes update for question video: "filename.mp4"
```

### ุนูุฏ ุชุญุฏูุซ ููุฏูู ูุงูู:
```
[isQuestionVideo] Video "filename.mp4" is NOT a question video - will update final minutes
[API] โ Added final minutes update for row X: Y minutes (non-question video)
```

## ุงุฎุชุจุงุฑ ุงูููุทู
ุชู ุฅูุดุงุก ููู `test-final-minutes-update.js` ูุงุฎุชุจุงุฑ ุงูููุทู ูุงูุชุฃูุฏ ูู ุนููู ุจุดูู ุตุญูุญ.

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ
- โ ุชุญุฏูุซ ุงููุงููู ููุชุณ ููููุฏูููุงุช ุงููุงููุฉ ููุท
- โ๏ธ ุชุฎุทู ุชุญุฏูุซ ุงููุงููู ููุชุณ ูููุฏูููุงุช ุงูุฃุณุฆูุฉ
- ๐ ุฅุญุตุงุฆูุงุช ูุงุถุญุฉ ูู ุงููุชุงุฆุฌ
- ๐ ุฑุณุงุฆู ุชูุถูุญูุฉ ูู ุงูู logs

## ุงูุชุฃูุฏ ูู ุงูุชุญุฏูุซ
ุจุนุฏ ุงูุฏูุจูููุ ุชุฃูุฏ ูู:
1. ุฑูุน ููุฏูู ูุงูู ูููุงุญุธุฉ ุชุญุฏูุซ ุงููุงููู ููุชุณ
2. ุฑูุน ููุฏูู ุณุคุงู ูููุงุญุธุฉ ุนุฏู ุชุญุฏูุซ ุงููุงููู ููุชุณ
3. ูุฑุงุฌุนุฉ ุงูู logs ููุชุฃูุฏ ูู ุงูุฑุณุงุฆู ุงูุชูุถูุญูุฉ 